{"ast":null,"code":"var _jsxFileName = \"/Users/han/\\u7F16\\u7A0B/to-do-list-github/to-do-list-Hanbing/frontend/src/components/mainPage/SearchResult.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport { useHttpClient } from \"../../hooks/http-hook\";\nimport { SearchContext } from '../../context/SearchContext';\nimport List from './List/List';\nimport './MainPage.css';\n\nconst SearchResult = props => {\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const auth = useContext(AuthContext);\n  const userId = auth.userId;\n  console.log(userId);\n  const [searchResult, setSearchResult] = useState([]);\n  const searchInput = props.searchInput;\n  console.log(searchInput); // useEffect(() => {\n\n  const searchItems = async () => {\n    try {\n      const responseData = await sendRequest(`http://localhost:5000/api/items/${userId}/search`, 'GET', {\n        body: JSON.stringify({\n          keyword: searchInput\n        })\n      }, {\n        Authorization: 'Bearer ' + auth.token\n      });\n      setSearchResult(responseData.items);\n      console.log(responseData);\n      console.log(searchResult);\n    } catch (err) {}\n  };\n\n  searchItems(); // }, []);\n\n  return (\n    /*#__PURE__*/\n    // <div className='searchListContainer'>\n    //     {searchResult && (\n    React.createElement(List, {\n      className: \"List\",\n      items: searchResult,\n      onDeleteItem: props.itemDeleteHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }) // )}\n    //  </div>\n\n  );\n};\n\nexport default SearchResult;","map":{"version":3,"sources":["/Users/han/编程/to-do-list-github/to-do-list-Hanbing/frontend/src/components/mainPage/SearchResult.js"],"names":["React","useState","useContext","useEffect","AuthContext","useHttpClient","SearchContext","List","SearchResult","props","isLoading","error","sendRequest","clearError","auth","userId","console","log","searchResult","setSearchResult","searchInput","searchItems","responseData","body","JSON","stringify","keyword","Authorization","token","items","err","itemDeleteHandler"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAwD,OAAxD;AAEA,SAASC,WAAT,QAA4B,2BAA5B;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAO,gBAAP;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAE5B,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,KAAb;AAAoBC,IAAAA,WAApB;AAAiCC,IAAAA;AAAjC,MAAgDR,aAAa,EAAnE;AAEA,QAAMS,IAAI,GAAGZ,UAAU,CAACE,WAAD,CAAvB;AACA,QAAMW,MAAM,GAAGD,IAAI,CAACC,MAApB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAEA,QAAM,CAACG,YAAD,EAAeC,eAAf,IAAkClB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAMmB,WAAW,GAAGX,KAAK,CAACW,WAA1B;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAYG,WAAZ,EAV4B,CAY5B;;AAEI,QAAMC,WAAW,GAAG,YAAY;AAE9B,QAAI;AACI,YAAMC,YAAY,GAAG,MAAMV,WAAW,CACnC,mCAAkCG,MAAO,SADN,EAEpC,KAFoC,EAGpC;AACGQ,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBC,UAAAA,OAAO,EAAEN;AADW,SAAf;AADT,OAHoC,EAOpC;AACEO,QAAAA,aAAa,EAAE,YAAYb,IAAI,CAACc;AADlC,OAPoC,CAAtC;AAWAT,MAAAA,eAAe,CAACG,YAAY,CAACO,KAAd,CAAf;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAYK,YAAZ;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYC,YAAZ;AACD,KAfP,CAeQ,OAAOY,GAAP,EAAY,CAAE;AACrB,GAlBH;;AAoBIT,EAAAA,WAAW,GAlCS,CAmCtB;;AAEN;AAAA;AACE;AACA;AACM,wBAAC,IAAD;AAAM,MAAA,SAAS,EAAG,MAAlB;AAAyB,MAAA,KAAK,EAAIH,YAAlC;AAAgD,MAAA,YAAY,EAAIT,KAAK,CAACsB,iBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHR,CAIM;AACJ;;AALF;AAWH,CAhDD;;AAuDA,eAAevB,YAAf","sourcesContent":["import React, { useState, useContext, useEffect }  from 'react';\n\nimport { AuthContext } from '../../context/AuthContext';\nimport { useHttpClient } from \"../../hooks/http-hook\";\nimport { SearchContext } from '../../context/SearchContext';\nimport List from './List/List';\nimport './MainPage.css'\n\nconst SearchResult = (props) => {\n\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n\n    const auth = useContext(AuthContext);\n    const userId = auth.userId;\n    console.log(userId)\n\n    const [searchResult, setSearchResult] = useState([]);\n    const searchInput = props.searchInput;\n    console.log(searchInput)\n\n    // useEffect(() => {\n\n        const searchItems = async () => {\n      \n          try {\n                  const responseData = await sendRequest(\n                    `http://localhost:5000/api/items/${userId}/search`, \n                    'GET',\n                    {\n                       body: JSON.stringify({\n                        keyword: searchInput })\n                    },\n                    {\n                      Authorization: 'Bearer ' + auth.token,\n                    }\n                  );\n                  setSearchResult(responseData.items);\n                  console.log(responseData)\n                  console.log(searchResult)\n                } catch (err) {}\n          };\n      \n            searchItems()\n          // }, []);\n\n    return(\n      // <div className='searchListContainer'>\n      //     {searchResult && (\n            <List className = 'List' items = {searchResult} onDeleteItem = {props.itemDeleteHandler}/>\n          // )}\n      //  </div>\n             \n    )\n    \n\n\n}  \n\n\n\n\n\n\nexport default SearchResult;"]},"metadata":{},"sourceType":"module"}