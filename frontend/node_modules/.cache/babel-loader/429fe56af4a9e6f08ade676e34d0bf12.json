{"ast":null,"code":"var _jsxFileName = \"/Users/han/\\u7F16\\u7A0B/to-do-list-github/to-do-list-Hanbing/frontend/src/components/modals/RegisterModal.js\";\nimport React, { useState } from 'react';\nimport Input from '../form/Input';\nimport { VALIDATOR_EMAIL, VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from '../../util/validators';\nimport './RegisterModal.css';\n\nconst RegisterModal = props => {\n  const [error, setError] = useState(null);\n  const [inputData, setInputData] = useState({\n    name: '',\n    email: '',\n    password: ''\n  });\n\n  const inputChangeHandler = event => {\n    const value = event.target.value;\n    setInputData({ ...inputData,\n      [event.target.name]: value\n    });\n  };\n\n  const submitHandler = async event => {\n    event.preventDefault();\n    console.log(inputData);\n\n    try {\n      const response = await fetch('http://localhost:5000/api/users/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: inputData.name,\n          email: inputData.email,\n          password: inputData.password\n        })\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      props.switch();\n    } catch (err) {\n      console.log(err);\n      setError(err.message || 'Something went wrong, please try again');\n      alert(err.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"registerModal__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 8\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"registerModal__form\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field field_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label\",\n    for: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    class: \"input input_name\",\n    value: inputData.name,\n    onChange: inputChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field field_email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label\",\n    for: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    class: \"input input_email\",\n    value: inputData.email,\n    onChange: inputChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field field_password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    for: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    class: \"input input_password\",\n    value: inputData.password,\n    onChange: inputChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"registerSubmitButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"Register\")));\n};\n\nexport default RegisterModal;","map":{"version":3,"sources":["/Users/han/编程/to-do-list-github/to-do-list-Hanbing/frontend/src/components/modals/RegisterModal.js"],"names":["React","useState","Input","VALIDATOR_EMAIL","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","RegisterModal","props","error","setError","inputData","setInputData","name","email","password","inputChangeHandler","event","value","target","submitHandler","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","responseData","json","switch","err","message","alert"],"mappings":"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","sourcesContent":["import React, { useState }  from 'react';\nimport Input from '../form/Input'\nimport { VALIDATOR_EMAIL, VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from '../../util/validators';\n\n\n\nimport './RegisterModal.css';\n\nconst RegisterModal = props => {\n\n  const [error, setError] = useState(null)\n\n  const [inputData, setInputData] = useState({\n    name:'',\n    email: '', \n    password:''\n  })\n\n  const inputChangeHandler =(event)=>{\n    const value = event.target.value\n    setInputData({ \n      ...inputData,\n      [event.target.name]: value\n\n    });\n  }\n\n  const submitHandler = async (event) =>{\n    event.preventDefault();\n    console.log(inputData)\n\n    try{\n      const response = await fetch('http://localhost:5000/api/users/signup', {\n        method: 'POST', \n        headers: {\n          'Content-Type': 'application/json'\n        }, \n        body: JSON.stringify({\n          name: inputData.name, \n          email: inputData.email, \n          password: inputData.password\n        })\n      })\n\n      const responseData= await response.json();\n      \n      console.log(responseData)\n      props.switch()\n\n    }catch(err){\n      console.log(err);\n      setError(err.message || 'Something went wrong, please try again')\n      alert(err.message)\n\n\n    }\n\n   \n\n  }\n\n\n    return (\n        <div className='registerModal__container'>\n       <h1>Register</h1>\n        <form className ='registerModal__form'\n         onSubmit={submitHandler}\n        >\n          <div className='field field_name'>   \n            <label className='label' for='name'>Name</label>   \n            <input type='text' name='name' class='input input_name' \n            value = {inputData.name} onChange={inputChangeHandler}/>\n        </div>\n         <div className='field field_email'>   \n            <label className='label' for='email'>Email</label>   \n            <input type='email' name='email' class='input input_email'\n            value = {inputData.email} onChange={inputChangeHandler}/>\n        </div>\n        <div className='field field_password'>   \n            <label class='label' for='password'>Password</label>   \n            <input type='password' name='password' class='input input_password'\n            value = {inputData.password} onChange={inputChangeHandler}/>\n        </div>\n\n        <button type=\"submit\" className='registerSubmitButton'>Register</button>\n        </form>\n      </div>\n \n    );\n  };\n\nexport default RegisterModal;"]},"metadata":{},"sourceType":"module"}