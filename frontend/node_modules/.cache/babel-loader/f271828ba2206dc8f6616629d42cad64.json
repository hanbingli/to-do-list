{"ast":null,"code":"var _jsxFileName = \"/Users/han/\\u7F16\\u7A0B/postgraduate/tv2z/to-do-list-Hanbing/backend/frontend/src/components/mainPage/List/ListItem.js\";\nimport React, { useState, useContext } from 'react';\nimport './ListItem.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle, faEdit, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faCircle as faCircleS, faEdit as faEditS, faTrashAlt as faTrashAltS } from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from '../../../context/AuthContext';\nimport { useHttpClient } from \"../../../hooks/http-hook\";\nimport EditItemModal from '../../modals/EditItemModal';\n\nconst ListItem = props => {\n  const auth = useContext(AuthContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const userId = props.userId;\n  const itemId = props.id;\n  const isCompleted = props.completed;\n  console.log(userId);\n  console.log(itemId);\n  const [completed, setCompleted] = useState(isCompleted);\n\n  const completeHandler = async () => {\n    try {\n      await sendRequest(`http://localhost:5000/api/items/${itemId}`, 'PATCH', null, {\n        Authorization: 'Bearer ' + auth.token\n      });\n      setCompleted(true);\n    } catch (err) {} // try{\n    //     const response = await fetch( `http://localhost:5000/api/items/complete/${itemId}`, {\n    //     method: 'PATCH',\n    //     Authorization: \"Bearer \" + auth.token,\n    //   })\n    //   const responseData= await response.json();\n    //   console.log(responseData);\n    //   alert(`Item set to ${responseData.completed}`)\n    //   setCompleted(true)\n    // }catch(err){\n    //   console.log(err)\n    // }\n\n  };\n\n  const cancelCompleteHandler = async () => {\n    try {\n      await sendRequest(`http://localhost:5000/api/items/${itemId}`, 'PATCH', null, {\n        Authorization: 'Bearer ' + auth.token\n      });\n      setCompleted(false);\n    } catch (err) {} // try{\n    //     const response = await fetch( `http://localhost:5000/api/items/complete/${itemId}`, {\n    //     method: 'PATCH',\n    //     Authorization: \"Bearer \" + auth.token,\n    //   })\n    //   const responseData= await response.json();\n    //   console.log(responseData);\n    //   alert(`Item set to ${responseData.completed}`)\n    //   setCompleted(false)\n    // }catch(err){\n    //   console.log(err)\n    // }\n\n  };\n\n  const editHandler = async () => {// try{\n    //     await sendRequest(\n    //     )\n    // }catch(err){\n    // }\n  };\n\n  const deleteHandler = async () => {\n    try {\n      await sendRequest(`http://localhost:5000/api/items/${userId}/${itemId}`, 'DELETE', null, {\n        Authorization: 'Bearer ' + auth.token\n      });\n      props.onDelete(itemId);\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"listItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__checkbox listItemContents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, !completed && /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircle,\n    size: \"2x\",\n    className: \"not-completed listItemContents\",\n    onClick: completeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }), completed && /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircleS,\n    size: \"2x\",\n    className: \"completed listItemContents\",\n    onClick: cancelCompleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__title listItemContents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 18\n    }\n  }, props.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__date listItemContents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 18\n    }\n  }, props.date), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__editButton listItemContents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEditS,\n    size: \"2x\",\n    className: \"editIcon listItemContents\",\n    onClick: editHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__deleteButton listItemContents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTrashAltS,\n    size: \"2x\",\n    className: \"deleteIcon listItemContents\",\n    onClick: deleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default ListItem;","map":{"version":3,"sources":["/Users/han/编程/postgraduate/tv2z/to-do-list-Hanbing/backend/frontend/src/components/mainPage/List/ListItem.js"],"names":["React","useState","useContext","FontAwesomeIcon","faCircle","faEdit","faTrashAlt","faCircleS","faEditS","faTrashAltS","AuthContext","useHttpClient","EditItemModal","ListItem","props","auth","isLoading","error","sendRequest","clearError","userId","itemId","id","isCompleted","completed","console","log","setCompleted","completeHandler","Authorization","token","err","cancelCompleteHandler","editHandler","deleteHandler","onDelete","title","date"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport './ListItem.css';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle, faEdit, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faCircle as faCircleS, faEdit as faEditS, faTrashAlt as faTrashAltS} from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from '../../../context/AuthContext';\nimport { useHttpClient } from \"../../../hooks/http-hook\";\nimport EditItemModal from '../../modals/EditItemModal';\n\n\nconst ListItem = (props) =>{\n    const auth = useContext(AuthContext);\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n\n    const userId = props.userId\n    const itemId = props.id\n    const isCompleted = props.completed;\n    console.log(userId);\n    console.log(itemId)\n\n    const[completed, setCompleted] = useState(isCompleted);\n\n    const completeHandler = async () =>{\n       \n        try {\n          await sendRequest(\n            `http://localhost:5000/api/items/${itemId}`,\n            'PATCH',\n            null,\n            {\n              Authorization: 'Bearer ' + auth.token,\n            }\n          );\n          setCompleted(true);\n          \n        } catch (err) {}\n\n\n\n\n\n\n        // try{\n        //     const response = await fetch( `http://localhost:5000/api/items/complete/${itemId}`, {\n        //     method: 'PATCH',\n        //     Authorization: \"Bearer \" + auth.token,\n        //   })\n    \n        //   const responseData= await response.json();\n        //   console.log(responseData);\n        //   alert(`Item set to ${responseData.completed}`)\n        //   setCompleted(true)\n       \n        // }catch(err){\n        //   console.log(err)\n    \n        // }\n    } \n\n        const cancelCompleteHandler = async() =>{\n\n            try {\n                await sendRequest(\n                  `http://localhost:5000/api/items/${itemId}`,\n                  'PATCH',\n                  null,\n                  {\n                    Authorization: 'Bearer ' + auth.token,\n                  }\n                )\n                setCompleted(false);\n              } catch (err) {}\n\n\n\n\n\n            // try{\n            //     const response = await fetch( `http://localhost:5000/api/items/complete/${itemId}`, {\n            //     method: 'PATCH',\n            //     Authorization: \"Bearer \" + auth.token,\n            //   })\n        \n            //   const responseData= await response.json();\n            //   console.log(responseData);\n            //   alert(`Item set to ${responseData.completed}`)\n            //   setCompleted(false)\n           \n            // }catch(err){\n            //   console.log(err)\n        \n            // }\n            \n            \n        }\n\n      const editHandler = async() =>{\n      \n        // try{\n        //     await sendRequest(\n\n        //     )\n        // }catch(err){\n\n        // }\n    } \n    const deleteHandler = async() =>{\n\n        try {\n            await sendRequest(\n              `http://localhost:5000/api/items/${userId}/${itemId}`,\n              'DELETE',\n              null,\n              {\n                Authorization: 'Bearer ' + auth.token,\n              }\n            );\n            props.onDelete(itemId)\n          } catch (err) {}\n  \n    } \n\n\n    return(\n        <li className='listItem'>\n            <div className='listItem__content'>\n            <div className=\"listItem__checkbox listItemContents\">\n                {!completed && (\n                        <FontAwesomeIcon\n                            icon={faCircle}\n                            size=\"2x\"\n                            className=\"not-completed listItemContents\"\n                            onClick={completeHandler}\n                        />\n                   \n                )\n                }\n                {completed &&(\n                     <FontAwesomeIcon\n                     icon={faCircleS}\n                     size=\"2x\"\n                     className=\"completed listItemContents\"\n                     onClick={cancelCompleteHandler}\n                   />\n                   \n                )}\n                 </div>\n\n                 <div className='listItem__title listItemContents'>\n                     {props.title}\n                 </div>\n                 <div className='listItem__date listItemContents'>\n                     {props.date}\n                 </div>\n                 <div className ='listItem__editButton listItemContents'>\n                    <FontAwesomeIcon\n                        icon={faEditS}\n                        size=\"2x\"\n                        className=\"editIcon listItemContents\"\n                        onClick={editHandler}\n                    />\n                 </div>\n                 <div className ='listItem__deleteButton listItemContents'>\n                    <FontAwesomeIcon\n                        icon={faTrashAltS}\n                        size=\"2x\"\n                        className=\"deleteIcon listItemContents\"\n                        onClick={deleteHandler}\n                    />\n                 </div>\n\n\n            </div>\n        </li>\n\n    )\n}\nexport default ListItem;"]},"metadata":{},"sourceType":"module"}