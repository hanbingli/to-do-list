{"ast":null,"code":"var _jsxFileName = \"/Users/han/\\u7F16\\u7A0B/postgraduate/tv2z/to-do-list-Hanbing/frontend/src/components/modals/LoginModal.js\";\nimport React, { Component, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport './LoginModal.css';\n\nconst LoginModal = props => {\n  const [inputData, setInputData] = useState({\n    email: '',\n    password: ''\n  });\n\n  const inputChangeHandler = event => {\n    const value = event.target.value;\n    setInputData({ ...inputData,\n      [event.target.name]: value\n    });\n  }; //   In addition to getting the value from the event target, we get the name of that target as well. This is the essential point for handling multiple input fields with one handler. We funnel all changes through that one handler but then distinguish which input the change is coming from using the name.\n  // This example is using [evt.target.name], with the name in square brackets, to create a dynamic key name in the object. Because the form name props match the state property keys, the firstName input will set the firstName state and the lastName input will separately set the lastName state.\n  // Also note that, because we are using a single state object that contains multiple properties, we're spreading (...state) the existing state back into the new state value, merging it manually, when calling setState. This is required when using React.useState in the solution.\n\n\n  const submitHandler = event => {\n    event.preventDefault();\n    console.log(inputData); //   try {\n    //     const responseData = await sendRequest(\n    //       `${process.env.REACT_APP_BACKEND_URL}/users/login`,\n    //       'POST',\n    //       JSON.stringify({\n    //         email: formState.inputs.email.value,\n    //         password: formState.inputs.password.value\n    //       }),\n    //       {\n    //         'Content-Type': 'application/json'\n    //       }\n    //     );\n    //     auth.login(responseData.userId, responseData.token);\n    //   } catch (err) {}\n    // } else {\n    //   try {\n    //     const formData = new FormData();\n    //     formData.append('email', formState.inputs.email.value);\n    //     formData.append('name', formState.inputs.name.value);\n    //     formData.append('password', formState.inputs.password.value);\n    //     formData.append('image', formState.inputs.image.value);\n    //     const responseData = await sendRequest(\n    //       `${process.env.REACT_APP_BACKEND_URL}/users/signup`,\n    //       'POST',\n    //       formData\n    //     );\n    //     auth.login(responseData.userId, responseData.token);\n    //   } catch (err) {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginModal__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 8\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"loginModal__form\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field field_email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    for: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    class: \"input input_email\",\n    value: inputData.email,\n    onChange: inputChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field field_password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    for: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    class: \"input input_password\",\n    value: inputData.password,\n    onChange: inputChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"loginSubmitButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n};\n\nexport default LoginModal;","map":{"version":3,"sources":["/Users/han/编程/postgraduate/tv2z/to-do-list-Hanbing/frontend/src/components/modals/LoginModal.js"],"names":["React","Component","useState","ReactDOM","CSSTransition","LoginModal","props","inputData","setInputData","email","password","inputChangeHandler","event","value","target","name","submitHandler","preventDefault","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA4C,OAA5C;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,aAAT,QAA8B,wBAA9B;AAGA,OAAO,kBAAP;;AAEA,MAAMC,UAAU,GAAGC,KAAK,IAAI;AAE1B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC;AACzCO,IAAAA,KAAK,EAAE,EADkC;AAEzCC,IAAAA,QAAQ,EAAC;AAFgC,GAAD,CAA1C;;AAKA,QAAMC,kBAAkB,GAAGC,KAAD,IAAS;AACjC,UAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACAL,IAAAA,YAAY,CAAC,EACX,GAAGD,SADQ;AAEX,OAACK,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBF;AAFV,KAAD,CAAZ;AAMD,GARD,CAP0B,CAgB5B;AAEA;AAEA;;;AAGE,QAAMG,aAAa,GAAIJ,KAAD,IAAU;AAC9BA,IAAAA,KAAK,CAACK,cAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYZ,SAAZ,EAF8B,CAIhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEC,GAjCD;;AAsCE,sBACI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADC,eAEA;AAAM,IAAA,SAAS,EAAE,kBAAjB;AACE,IAAA,QAAQ,EAAES,aADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIC;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAO,IAAA,KAAK,EAAC,OAAb;AAAqB,IAAA,GAAG,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADH,eAEG;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,IAAI,EAAC,OAAzB;AAAiC,IAAA,KAAK,EAAC,mBAAvC;AAA2D,IAAA,KAAK,EAAIT,SAAS,CAACE,KAA9E;AAAqF,IAAA,QAAQ,EAAEE,kBAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFH,CAJD,eAQA;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,OAAb;AAAqB,IAAA,GAAG,EAAC,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,KAAK,EAAC,sBAA7C;AAAoE,IAAA,KAAK,EAAIJ,SAAS,CAACG,QAAvF;AAAiG,IAAA,QAAQ,EAAEC,kBAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CARA,eAaA;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,mBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAbA,CAFA,CADJ;AAqBD,CAlFH;;AAoFA,eAAeN,UAAf","sourcesContent":["import React, { Component, useState }  from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\n\n\nimport './LoginModal.css';\n\nconst LoginModal = props => {\n\n  const [inputData, setInputData] = useState({\n    email: '', \n    password:''\n  })\n\n  const inputChangeHandler =(event)=>{\n    const value = event.target.value\n    setInputData({ \n      ...inputData,\n      [event.target.name]: value\n\n    })\n\n  }\n//   In addition to getting the value from the event target, we get the name of that target as well. This is the essential point for handling multiple input fields with one handler. We funnel all changes through that one handler but then distinguish which input the change is coming from using the name.\n\n// This example is using [evt.target.name], with the name in square brackets, to create a dynamic key name in the object. Because the form name props match the state property keys, the firstName input will set the firstName state and the lastName input will separately set the lastName state.\n\n// Also note that, because we are using a single state object that contains multiple properties, we're spreading (...state) the existing state back into the new state value, merging it manually, when calling setState. This is required when using React.useState in the solution.\n\n\n  const submitHandler = (event) =>{\n    event.preventDefault();\n    console.log(inputData)\n\n  //   try {\n  //     const responseData = await sendRequest(\n  //       `${process.env.REACT_APP_BACKEND_URL}/users/login`,\n  //       'POST',\n  //       JSON.stringify({\n  //         email: formState.inputs.email.value,\n  //         password: formState.inputs.password.value\n  //       }),\n  //       {\n  //         'Content-Type': 'application/json'\n  //       }\n  //     );\n  //     auth.login(responseData.userId, responseData.token);\n  //   } catch (err) {}\n  // } else {\n  //   try {\n  //     const formData = new FormData();\n  //     formData.append('email', formState.inputs.email.value);\n  //     formData.append('name', formState.inputs.name.value);\n  //     formData.append('password', formState.inputs.password.value);\n  //     formData.append('image', formState.inputs.image.value);\n  //     const responseData = await sendRequest(\n  //       `${process.env.REACT_APP_BACKEND_URL}/users/signup`,\n  //       'POST',\n  //       formData\n  //     );\n  //     auth.login(responseData.userId, responseData.token);\n  //   } catch (err) {}\n\n  }\n\n  \n\n\n    return (\n        <div className='loginModal__container'>\n       <h1>Login</h1>\n        <form className ='loginModal__form'\n          onSubmit={submitHandler}\n      \n        >\n         <div className='field field_email'>   \n            <label class='label' for='email'>Email</label>   \n            <input type='email' name='email' class='input input_email' value = {inputData.email} onChange={inputChangeHandler}/>\n        </div>\n        <div className='field field_password'>   \n            <label class='label' for='password'>Password</label>   \n            <input type='password' name='password' class='input input_password' value = {inputData.password} onChange={inputChangeHandler}/>\n        </div>\n\n        <button type='submit' className='loginSubmitButton'>Login</button>\n        </form>\n      </div>\n \n    );\n  };\n\nexport default LoginModal;"]},"metadata":{},"sourceType":"module"}