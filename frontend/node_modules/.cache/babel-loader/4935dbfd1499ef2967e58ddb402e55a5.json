{"ast":null,"code":"var _jsxFileName = \"/Users/han/\\u7F16\\u7A0B/postgraduate/tv2z/to-do-list-Hanbing/backend/frontend/src/components/mainPage/List/ListItem.js\";\nimport React, { useState, useContext } from 'react';\nimport './ListItem.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle, faEdit, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faCircle as faCircleS, faEdit as faEditS, faTrashAlt as faTrashAltS } from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from '../../context/AuthContext';\n\nconst ListItem = props => {\n  const auth = useContext(AuthContext);\n  const userId = auth.userId;\n  const itemId = props.id;\n  const isCompleted = props.completed;\n  const [completed, setCompleted] = useState(isCompleted);\n\n  const completeHandler = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/items/${userId}/${itemId}/complete`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        Authorization: \"Bearer \" + auth.token\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      alert(`Item set to ${responseData.completed}`);\n      setCompleted(!completed);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const cancelCompleteHandler = async () => {\n    setCompleted(false); // try {\n    //   await sendRequest(\n    //     `${process.env.REACT_APP_BACKEND_URL}/users/bucketlist/${props.id}`,\n    //     'PUT',\n    //     null,\n    //     {\n    //       Authorization: 'Bearer ' + auth.token,\n    //     }\n    //   )\n    // } catch (err) {}\n  };\n\n  const editHandler = async () => {\n    setCompleted(true); // try{\n    //     await sendRequest(\n    //     )\n    // }catch(err){\n    // }\n  };\n\n  const deleteHandler = async () => {\n    setCompleted(true); // try{\n    //     await sendRequest(\n    //     )\n    // }catch(err){\n    // }\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"listItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, !completed && /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircle,\n    size: \"2x\",\n    className: \"not-completed\",\n    onClick: completeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }), completed && /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircleS,\n    size: \"2x\",\n    className: \"completed\",\n    onClick: cancelCompleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 18\n    }\n  }, props.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 18\n    }\n  }, props.date), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__editButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEditS,\n    size: \"2x\",\n    className: \"editIcon\",\n    onClick: editHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__deleteButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTrashAltS,\n    size: \"2x\",\n    className: \"deleteIcon\",\n    onClick: deleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default ListItem;","map":{"version":3,"sources":["/Users/han/编程/postgraduate/tv2z/to-do-list-Hanbing/backend/frontend/src/components/mainPage/List/ListItem.js"],"names":["React","useState","useContext","FontAwesomeIcon","faCircle","faEdit","faTrashAlt","faCircleS","faEditS","faTrashAltS","AuthContext","ListItem","props","auth","userId","itemId","id","isCompleted","completed","setCompleted","completeHandler","response","fetch","method","headers","Authorization","token","responseData","json","console","log","alert","err","cancelCompleteHandler","editHandler","deleteHandler","title","date"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport './ListItem.css';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle, faEdit, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faCircle as faCircleS, faEdit as faEditS, faTrashAlt as faTrashAltS} from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from '../../context/AuthContext';\n\n\nconst ListItem = props =>{\n    const auth = useContext(AuthContext);\n    const userId = auth.userId;\n\n    const itemId = props.id\n    const isCompleted = props.completed;\n\n    const[completed, setCompleted] = useState(isCompleted);\n\n    const completeHandler = async() =>{\n        try{\n            const response = await fetch( `http://localhost:5000/api/items/${userId}/${itemId}/complete`, {\n            method: 'POST', \n            headers: {\n              'Content-Type': 'application/json'\n            }, \n            Authorization: \"Bearer \" + auth.token,\n          })\n    \n          const responseData= await response.json();\n          console.log(responseData);\n          alert(`Item set to ${responseData.completed}`)\n          setCompleted(!completed)\n       \n        }catch(err){\n          console.log(err)\n    \n        }\n       \n   \n    } \n    const cancelCompleteHandler = async () => {\n        setCompleted(false)\n        // try {\n        //   await sendRequest(\n        //     `${process.env.REACT_APP_BACKEND_URL}/users/bucketlist/${props.id}`,\n        //     'PUT',\n        //     null,\n        //     {\n        //       Authorization: 'Bearer ' + auth.token,\n        //     }\n        //   )\n\n        // } catch (err) {}\n      }\n      const editHandler = async() =>{\n        setCompleted(true)\n        // try{\n        //     await sendRequest(\n\n        //     )\n        // }catch(err){\n\n        // }\n    } \n    const deleteHandler = async() =>{\n        setCompleted(true)\n        // try{\n        //     await sendRequest(\n\n        //     )\n        // }catch(err){\n\n        // }\n    } \n\n\n    return(\n        <li className='listItem'>\n            <div className='listItem__content'>\n            <div className=\"listItem__checkbox\">\n                { !completed && (\n                        <FontAwesomeIcon\n                            icon={faCircle}\n                            size=\"2x\"\n                            className=\"not-completed\"\n                            onClick={completeHandler}\n                        />\n                   \n                )\n                }\n                {completed &&(\n                     <FontAwesomeIcon\n                     icon={faCircleS}\n                     size=\"2x\"\n                     className=\"completed\"\n                     onClick={cancelCompleteHandler}\n                   />\n                   \n                )}\n                 </div>\n\n                 <div className='listItem__title'>\n                     {props.title}\n                 </div>\n                 <div className='listItem__date'>\n                     {props.date}\n                 </div>\n                 <div className ='listItem__editButton'>\n                    <FontAwesomeIcon\n                        icon={faEditS}\n                        size=\"2x\"\n                        className=\"editIcon\"\n                        onClick={editHandler}\n                    />\n                 </div>\n                 <div className ='listItem__deleteButton'>\n                    <FontAwesomeIcon\n                        icon={faTrashAltS}\n                        size=\"2x\"\n                        className=\"deleteIcon\"\n                        onClick={deleteHandler}\n                    />\n                 </div>\n\n\n            </div>\n        </li>\n\n    )\n}\nexport default ListItem;"]},"metadata":{},"sourceType":"module"}