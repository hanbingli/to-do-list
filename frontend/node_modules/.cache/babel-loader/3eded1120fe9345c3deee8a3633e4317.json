{"ast":null,"code":"var _jsxFileName = \"/Users/han/\\u7F16\\u7A0B/postgraduate/tv2z/to-do-list-Hanbing/backend/frontend/src/components/mainPage/List/ListItem.js\";\nimport React, { useState, useContext } from 'react';\nimport './ListItem.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle, faEdit, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faCircle as faCircleS, faEdit as faEditS, faTrashAlt as faTrashAltS } from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from '../../../context/AuthContext';\n\nconst ListItem = props => {\n  const auth = useContext(AuthContext);\n  const itemId = props.id;\n  const isCompleted = props.completed;\n  const [completed, setCompleted] = useState(isCompleted);\n\n  const completeHandler = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/items/complete/${itemId}`, {\n        method: 'PATCH',\n        Authorization: \"Bearer \" + auth.token\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      alert(`Item set to ${responseData.completed}`);\n      setCompleted(true);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const cancelCompleteHandler = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/items/complete/${itemId}`, {\n        method: 'PATCH',\n        Authorization: \"Bearer \" + auth.token\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      alert(`Item set to ${responseData.completed}`);\n      setCompleted(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const editHandler = async () => {\n    setCompleted(true); // try{\n    //     await sendRequest(\n    //     )\n    // }catch(err){\n    // }\n  };\n\n  const deleteHandler = async () => {\n    setCompleted(true); // try{\n    //     await sendRequest(\n    //     )\n    // }catch(err){\n    // }\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"listItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, !completed && /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircle,\n    size: \"2x\",\n    className: \"not-completed\",\n    onClick: completeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }), completed && /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircleS,\n    size: \"2x\",\n    className: \"completed\",\n    onClick: cancelCompleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 18\n    }\n  }, props.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 18\n    }\n  }, props.date), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__editButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEditS,\n    size: \"2x\",\n    className: \"editIcon\",\n    onClick: editHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem__deleteButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTrashAltS,\n    size: \"2x\",\n    className: \"deleteIcon\",\n    onClick: deleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default ListItem;","map":{"version":3,"sources":["/Users/han/编程/postgraduate/tv2z/to-do-list-Hanbing/backend/frontend/src/components/mainPage/List/ListItem.js"],"names":["React","useState","useContext","FontAwesomeIcon","faCircle","faEdit","faTrashAlt","faCircleS","faEditS","faTrashAltS","AuthContext","ListItem","props","auth","itemId","id","isCompleted","completed","setCompleted","completeHandler","response","fetch","method","Authorization","token","responseData","json","console","log","alert","err","cancelCompleteHandler","editHandler","deleteHandler","title","date"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport './ListItem.css';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle, faEdit, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faCircle as faCircleS, faEdit as faEditS, faTrashAlt as faTrashAltS} from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from '../../../context/AuthContext';\n\n\nconst ListItem = props =>{\n    const auth = useContext(AuthContext);\n\n    const itemId = props.id\n    const isCompleted = props.completed;\n\n    const[completed, setCompleted] = useState(isCompleted);\n\n    const completeHandler = async() =>{\n        try{\n            const response = await fetch( `http://localhost:5000/api/items/complete/${itemId}`, {\n            method: 'PATCH',\n            Authorization: \"Bearer \" + auth.token,\n          })\n    \n          const responseData= await response.json();\n          console.log(responseData);\n          alert(`Item set to ${responseData.completed}`)\n          setCompleted(true)\n       \n        }catch(err){\n          console.log(err)\n    \n        }\n    } \n\n        const cancelCompleteHandler = async() =>{\n            try{\n                const response = await fetch( `http://localhost:5000/api/items/complete/${itemId}`, {\n                method: 'PATCH',\n                Authorization: \"Bearer \" + auth.token,\n              })\n        \n              const responseData= await response.json();\n              console.log(responseData);\n              alert(`Item set to ${responseData.completed}`)\n              setCompleted(false)\n           \n            }catch(err){\n              console.log(err)\n        \n            }\n            \n            \n        }\n\n      const editHandler = async() =>{\n        setCompleted(true)\n        // try{\n        //     await sendRequest(\n\n        //     )\n        // }catch(err){\n\n        // }\n    } \n    const deleteHandler = async() =>{\n        setCompleted(true)\n        // try{\n        //     await sendRequest(\n\n        //     )\n        // }catch(err){\n\n        // }\n    } \n\n\n    return(\n        <li className='listItem'>\n            <div className='listItem__content'>\n            <div className=\"listItem__checkbox\">\n                { !completed && (\n                        <FontAwesomeIcon\n                            icon={faCircle}\n                            size=\"2x\"\n                            className=\"not-completed\"\n                            onClick={completeHandler}\n                        />\n                   \n                )\n                }\n                {completed &&(\n                     <FontAwesomeIcon\n                     icon={faCircleS}\n                     size=\"2x\"\n                     className=\"completed\"\n                     onClick={cancelCompleteHandler}\n                   />\n                   \n                )}\n                 </div>\n\n                 <div className='listItem__title'>\n                     {props.title}\n                 </div>\n                 <div className='listItem__date'>\n                     {props.date}\n                 </div>\n                 <div className ='listItem__editButton'>\n                    <FontAwesomeIcon\n                        icon={faEditS}\n                        size=\"2x\"\n                        className=\"editIcon\"\n                        onClick={editHandler}\n                    />\n                 </div>\n                 <div className ='listItem__deleteButton'>\n                    <FontAwesomeIcon\n                        icon={faTrashAltS}\n                        size=\"2x\"\n                        className=\"deleteIcon\"\n                        onClick={deleteHandler}\n                    />\n                 </div>\n\n\n            </div>\n        </li>\n\n    )\n}\nexport default ListItem;"]},"metadata":{},"sourceType":"module"}