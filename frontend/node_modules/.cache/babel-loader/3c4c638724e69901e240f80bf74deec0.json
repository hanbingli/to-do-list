{"ast":null,"code":"var _jsxFileName = \"/Users/han/\\u7F16\\u7A0B/to-do-list-github/to-do-list-Hanbing/frontend/src/components/mainPage/SearchResults.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport { useHttpClient } from \"../../hooks/http-hook\";\nimport { SearchContext } from '../../context/SearchContext';\nimport './MainPage.css';\n\nconst SearchResult = () => {\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const {\n    searchInput,\n    searchInputHandler\n  } = useContext(SearchContext);\n  console.log(searchInput);\n  const auth = useContext(AuthContext);\n  const userId = auth.userId;\n  console.log(userId);\n  const [searchResult, setSearchResult] = useState([]);\n  useEffect(() => {\n    const searchItems = async () => {\n      try {\n        const responseData = await sendRequest(`http://localhost:5000/api/items/${userId}/search`, 'GET', {\n          body: JSON.stringify({\n            keyword: searchInput\n          })\n        }, {\n          Authorization: 'Bearer ' + auth.token\n        });\n        setSearchResult(responseData.items);\n        console.log(searchResult);\n      } catch (err) {}\n    };\n\n    searchItems();\n  }, [sendRequest, searchInput]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainContainerOuterBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ListContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    className: \"List\",\n    items: searchResult,\n    onDeleteItem: itemDeleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 18\n    }\n  }))));\n};\n\nexport default SearchResult;","map":{"version":3,"sources":["/Users/han/编程/to-do-list-github/to-do-list-Hanbing/frontend/src/components/mainPage/SearchResults.js"],"names":["React","useState","useContext","useEffect","AuthContext","useHttpClient","SearchContext","SearchResult","isLoading","error","sendRequest","clearError","searchInput","searchInputHandler","console","log","auth","userId","searchResult","setSearchResult","searchItems","responseData","body","JSON","stringify","keyword","Authorization","token","items","err","itemDeleteHandler"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAwD,OAAxD;AAEA,SAASC,WAAT,QAA4B,2BAA5B;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,OAAO,gBAAP;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAEvB,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,KAAb;AAAoBC,IAAAA,WAApB;AAAiCC,IAAAA;AAAjC,MAAgDN,aAAa,EAAnE;AACA,QAAM;AAAEO,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAAsCX,UAAU,CAACI,aAAD,CAAtD;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACA,QAAMI,IAAI,GAAGd,UAAU,CAACE,WAAD,CAAvB;AAGA,QAAMa,MAAM,GAAGD,IAAI,CAACC,MAApB;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAYE,MAAZ;AAEA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkClB,QAAQ,CAAC,EAAD,CAAhD;AAIAE,EAAAA,SAAS,CAAC,MAAM;AAEZ,UAAMiB,WAAW,GAAG,YAAY;AAE9B,UAAI;AACI,cAAMC,YAAY,GAAG,MAAMX,WAAW,CACnC,mCAAkCO,MAAO,SADN,EAEpC,KAFoC,EAGpC;AACGK,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBC,YAAAA,OAAO,EAAEb;AADW,WAAf;AADT,SAHoC,EAOpC;AACEc,UAAAA,aAAa,EAAE,YAAYV,IAAI,CAACW;AADlC,SAPoC,CAAtC;AAWAR,QAAAA,eAAe,CAACE,YAAY,CAACO,KAAd,CAAf;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAYG,YAAZ;AACD,OAdP,CAcQ,OAAOW,GAAP,EAAY,CAAE;AACrB,KAjBH;;AAmBIT,IAAAA,WAAW;AACZ,GAtBE,EAsBA,CAACV,WAAD,EAAcE,WAAd,CAtBA,CAAT;AAwBA,sBACI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAG,MAAlB;AAAyB,IAAA,KAAK,EAAIM,YAAlC;AAAgD,IAAA,YAAY,EAAIY,iBAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADL,CADA,CADJ;AAaH,CApDD;;AA2DA,eAAevB,YAAf","sourcesContent":["import React, { useState, useContext, useEffect }  from 'react';\n\nimport { AuthContext } from '../../context/AuthContext';\nimport { useHttpClient } from \"../../hooks/http-hook\";\nimport { SearchContext } from '../../context/SearchContext';\nimport './MainPage.css'\n\nconst SearchResult = () => {\n\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n    const { searchInput, searchInputHandler } = useContext(SearchContext);\n    console.log(searchInput)\n    const auth = useContext(AuthContext);\n \n\n    const userId = auth.userId;\n    console.log(userId)\n\n    const [searchResult, setSearchResult] = useState([]);\n\n\n\n    useEffect(() => {\n\n        const searchItems = async () => {\n      \n          try {\n                  const responseData = await sendRequest(\n                    `http://localhost:5000/api/items/${userId}/search`, \n                    'GET',\n                    {\n                       body: JSON.stringify({\n                        keyword: searchInput })\n                    },\n                    {\n                      Authorization: 'Bearer ' + auth.token,\n                    }\n                  );\n                  setSearchResult(responseData.items)\n                  console.log(searchResult)\n                } catch (err) {}\n          };\n      \n            searchItems()\n          }, [sendRequest, searchInput]);\n\n    return(\n        <div className='mainContainerOuterBox'>\n        <div className='mainContainer'>\n             <div className='ListContainer'>\n                 <List className = 'List' items = {searchResult} onDeleteItem = {itemDeleteHandler}/>\n             </div>\n             </div>\n          </div>\n        \n    )\n    \n\n\n}  \n\n\n\n\n\n\nexport default SearchResult;"]},"metadata":{},"sourceType":"module"}